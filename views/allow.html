<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Allow access? | 1Auth</title>
		<noscript>
			<meta http-equiv="refresh" content="0; url=/old/" />
		</noscript>
		{{> googletagmanager}}
	</head>

	<body style="display: none">
		{{> nav}}
		<main>
			<h1>Allow access?</h1>
			<p>Do you want {{host}} to access your data?</p>
			<div class="buttons-container">
				<a href="/backend/send_data?client={{client}}&url={{encoded-url}}&token={{code}}" id="allow"
					>Allow
					<i class="far fa-check-circle inline ml-2"></i>
				</a>
				<a href="{{url}}" id="deny"
					>Deny
					<i class="far fa-times-circle inline ml-2"></i>
				</a>
			</div>
		</main>
		<script>
			const deny = document.querySelector("#deny");
			deny.addEventListener("click", async () => {
				await fetch("/backend/remove_data/{{code}}");
				return true;
			});
		</script>
	</body>
</html>
